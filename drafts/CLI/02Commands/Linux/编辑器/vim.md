### 核心思想：模式编辑

Vim 与其他编辑器最根本的不同在于它拥有多种**模式**。你需要在不同的模式下完成不同的任务。

1. **正常模式**：也叫**命令模式**。这是 Vim 的默认模式，当你启动 Vim 时就会进入这个模式。在这个模式下，你不能直接输入文字，但可以执行各种命令，如移动光标、复制、粘贴、删除、查找替换等。
    
2. **插入模式**：在这个模式下，你可以像使用普通编辑器（如记事本）一样输入和编辑文本。
    
3. **可视模式**：类似于用鼠标选中文本，你可以在这个模式下高亮选择文本块，然后进行操作（如复制、删除）。
    
4. **命令行模式**：在正常模式下按 `:` 进入，可以执行保存、退出、查找替换等更复杂的命令。
    

**学习 Vim 的第一步，就是时刻记住自己当前处于哪种模式。**

---

### 一、启动与退出

- **启动 Vim**：
    
  ```bash
    
    vim 文件名    # 打开或新建一个文件
    ```
- **退出 Vim（在正常模式下进行）**：
    
    - `:q` - 退出（如果文件没有修改）
        
    - `:q!` - **强制退出，不保存任何修改**
        
    - `:w` - 保存
        
    - `:wq` 或 `:x` - 保存并退出
        
    - `ZZ` （大写） - 保存并退出（快捷键）
        

---

### 二、基本操作流程

一个典型的 Vim 编辑流程是这样的：

1. 在终端输入 `vim file.txt` 启动 Vim，进入**正常模式**。
    
2. 按 `i` 键，进入**插入模式**，屏幕左下角会显示 `-- INSERT --`。
    
3. 开始输入你的文本内容。
    
4. 按 `Esc` 键，退出插入模式，回到**正常模式**。
    
5. 在正常模式下，你可以移动光标、复制粘贴等。
    
6. 输入 `:wq` 并按回车，保存文件并退出 Vim。
    

---

### 三、在正常模式下移动光标（高效的关键）

在 Vim 中，你的手不需要离开主键盘区去碰方向键。

- **基本移动**：
    
    - `h` - 左
        
    - `j` - 下
        
    - `k` - 上
        
    - `l` - 右
        
- **更快地移动**：
    
    - `w` - 移动到下一个单词的开头
        
    - `b` - 移动到上一个单词的开头
        
    - `0` （零） - 移动到行首
        
    - `$` - 移动到行尾
        
    - `gg` - 移动到文件第一行
        
    - `G` - 移动到文件最后一行
        
    - `5G` - 移动到第 5 行（数字可以任意指定）
        
    - `Ctrl + f` - 向下翻页
        
    - `Ctrl + b` - 向上翻页
        

---

### 四、基本编辑操作（在正常模式下）

这些命令通常可以与数字组合，例如 `3dd` 表示删除 3 行。

- **删除**：
    
    - `x` - 删除光标下的字符
        
    - `dw` - 删除一个单词（从光标位置到词尾）
        
    - `dd` - **删除整行**
        
    - `d$` - 删除从光标到行尾的内容
        
- **复制（在 Vim 中叫 Yank）与粘贴**：
    
    - `yy` - **复制当前行**
        
    - `yw` - 复制一个单词
        
    - `p` - 在光标**后**粘贴
        
    - `P` （大写）- 在光标**前**粘贴
        
- **撤销与重做**：
    
    - `u` - 撤销
        
    - `Ctrl + r` - 重做
        
- **进入插入模式的几种方式**：
    
    - `i` - 在光标**前**插入
        
    - `a` - 在光标**后**插入
        
    - `I` - 在**行首**插入
        
    - `A` - 在**行尾**插入
        
    - `o` - 在**当前行下方**新建一行并插入
        
    - `O` （大写）- 在**当前行上方**新建一行并插入
        

---

### 五、搜索与替换

- **搜索**（在正常模式下）：
    
    - `/关键词` - 向后搜索，按 `n` 跳到下一个匹配项，按 `N` 跳到上一个。
        
    - `?关键词` - 向前搜索。
        
- **替换**（在命令行模式下）：
    
    - `:s/旧文本/新文本` - 替换当前行的第一个匹配项。
        
    - `:s/旧文本/新文本/g` - 替换当前行的所有匹配项。
        
    - `:%s/旧文本/新文本/g` - **替换整个文件中的所有匹配项**。
        
    - `:%s/旧文本/新文本/gc` - 替换整个文件中的所有匹配项，但每次替换前**请求确认**。
        

---

### 六、可视模式

- 按 `v` 进入字符可视模式，然后移动光标来选择文本。
    
- 按 `V` （大写）进入行可视模式，按行选择。
    
- 选择好文本后，你可以进行 `d`（删除/剪切）、`y`（复制）、`p`（粘贴）等操作。
    

---

### 学习建议

1. **运行 `vimtutor`**：这是学习 Vim 的最佳方式！在终端直接输入 `vimtutor`，它会带你完成一个约 30 分钟的交互式教程，涵盖了所有基础操作。
    
2. **肌肉记忆**：不要试图一次性记住所有命令。先从 `i`, `Esc`, `:wq`, `dd`, `yy`, `p`, `hjkl` 开始练习，形成肌肉记忆。
    
3. **不要灰心**：一开始会觉得别扭，甚至会因为不知道怎么退出而手足无措（这是每个 Vim 新手的必经之路）。坚持使用几天，你就会发现它的魅力所在。
    

Vim 的功能远不止这些，还有宏、分屏、插件等高级功能，但这些基础知识已经足以让你应付 80% 的日常编辑任务了。祝你学习愉快！